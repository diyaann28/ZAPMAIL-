{% include 'user/user_header.html' %}
<body style="margin: 0; padding: 0; background-color: #f4f4f9;">
    <div style="font-family: Georgia, 'Times New Roman', Times, serif; width: 90%; max-width: 800px; margin: 20px auto; background: #fff; padding: 15px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); border-radius: 8px;">
        <form method="POST" action="">
            <h1 style="text-align: center; color: #333; font-size: clamp(1.5rem, 5vw, 2rem);">COMPLAINT FORM</h1>
            <div style="width: 100%; margin-top: 20px;">
                <div style="padding: 10px;">
                    <label style="display: block; font-weight: bold; color: #555; margin-bottom: 8px;">Enter Complaint:</label>
                    <textarea name="complaint" style="width: 100%; height: 80px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;" required></textarea>
                </div>
                <div style="padding: 10px; text-align: right;">
                    <input type="submit" name="submit" value="Submit" style="background-color: rgb(87, 158, 229); color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">
                </div>
            </div>
        </form>

        <h2 style="margin-top: 40px; text-align: center; color: #333; font-size: clamp(1.2rem, 4vw, 1.8rem);">VIEW COMPLAINTS</h2>
        <div style="width: 100%; overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px; min-width: 300px;">
                <thead>
                    <tr style="background-color: rgb(87, 158, 229); color: white;">
                        <th style="padding: 10px; border: 1px solid #ddd; white-space: nowrap;">Date</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">Complaint</th>
                        <th style="padding: 10px; border: 1px solid #ddd; white-space: nowrap;">Reply</th>
                    </tr>
                </thead>
                <tbody>
                    {% if data %}
                        {% for i in data %}
                            <tr style="background-color: #f9f9f9;">
                                <td style="padding: 10px; border: 1px solid #ddd;">{{i.date}}</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">{{i.complaint}}</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">{{i.reply}}</td>
                            </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="3" style="text-align: center; padding: 20px; color: #999;">No complaints yet...</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    <style>
        @media (max-width: 768px) {
            table {
                font-size: 0.9rem;
            }
        }
        @media (max-width: 480px) {
            table {
                font-size: 0.8rem;
            }
            input[type="submit"] {
                width: 100%;
            }
        }
        input[type="submit"]:hover {
            background-color: #0b3b6b;
            transform: scale(1.05);
            transition: all 0.2s ease;
        }
    </style>
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
{% include 'user/user_footer.html' %}